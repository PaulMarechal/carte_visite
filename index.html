<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v7.0.0/dist/aframe-extras.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>
        <script src="https://unpkg.com/aframe-event-set-component@3.0.3/dist/aframe-event-set-component.min.js"></script>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Poppins:wght@200;300;400;600;900&display=swap" rel="stylesheet">
        <link rel="stylesheet" media="all" type="text/css" href="./style.css" />
    </head>
    <body>
        <header>
            <a href="https://devxr.fr">
                <img src="https://devxr.fr/assets/images/logo/logo_devxr.png" alt="Logo DevXR.fr">
            </a>
        </header>

        <div id="info-container" style="display: none;">
            <div class="flex-container">
                <div class="flex-items">
                    <p>
                        <strong>Découvrez la magie de la réalité augmentée ! </strong><br> 
                        Retournez la carte pour explorer un exemple immersif en 3D et imaginez ce que cette technologie peut faire pour vos projets !
                    </p>
                </div>
                <div class="flex-items">
                    <div>
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-world-www" width="48" height="48" viewBox="0 0 24 24" stroke-width="1.5" stroke="#333333" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                            <path d="M19.5 7a9 9 0 0 0 -7.5 -4a8.991 8.991 0 0 0 -7.484 4" />
                            <path d="M11.5 3a16.989 16.989 0 0 0 -1.826 4" />
                            <path d="M12.5 3a16.989 16.989 0 0 1 1.828 4" />
                            <path d="M19.5 17a9 9 0 0 1 -7.5 4a8.991 8.991 0 0 1 -7.484 -4" />
                            <path d="M11.5 21a16.989 16.989 0 0 1 -1.826 -4" />
                            <path d="M12.5 21a16.989 16.989 0 0 0 1.828 -4" />
                            <path d="M2 10l1 4l1.5 -4l1.5 4l1 -4" />
                            <path d="M17 10l1 4l1.5 -4l1.5 4l1 -4" />
                            <path d="M9.5 10l1 4l1.5 -4l1.5 4l1 -4" />
                        </svg>
                        <div>
                            <p><strong>Besoin d'un expert en innovation digitale ?</strong></p>
                            <a href="https://devxr.fr" target="_blank">Visitez mon site web pour en savoir plus !</a>
                        </div>
                    </div>
                    <div>
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-phone" width="48" height="48" viewBox="0 0 24 24" stroke-width="1.5" stroke="#333333" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                            <path d="M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2" />
                        </svg>
                        <div>
                            <p><strong>Un projet en tête ?</strong></p>
                            <a href="tel:+33648357374">Appelez-moi : 06 48 35 73 74</a>
                        </div>
                    </div>
                    <div>
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-mail" width="48" height="48" viewBox="0 0 24 24" stroke-width="1.5" stroke="#333333" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                            <path d="M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z" />
                            <path d="M3 7l9 6l9 -6" />
                        </svg>
                        <div>
                            <p><strong>Envie de collaborer ?</strong></p>
                            <a href="mailto:contactme@paulmarechal.xyz">Envoyez-moi un mail</a>
                        </div>
                    </div>
                </div>
                <div class="flex-items">
                    <div>
                        <p>Votre avenir digital commence ici. Ne laissez pas passer cette opportunité !</p>
                    </div>
                </div>
            </div>
        </div>

        <a-scene mindar-image="imageTargetSrc: https://devxr.fr/carte/assets/targets.mind;" color-space="sRGB" renderer="colorManagement: true, physicallyCorrectLights" vr-mode-ui="enabled: false" device-orientation-permission-ui="enabled: false" touch-raycaster webxr="optionalFeatures: hit-test,dom-overlay; overlayElement: #overlay;" 
        ar-hit-test="target: #myobject">
            <a-assets>
                <!-- <a-asset-item id="bearModel" src="https://devxr.fr/carte/assets/test_character_4.gltf"></a-asset-item> -->
                <a-asset-item id="dancing_characters" src="https://devxr.fr/carte/assets/test_character_4.gltf"></a-asset-item>
            </a-assets>

            <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>

            <!-- Modèle 3D pour targetIndex: 0 -->
            <a-entity mindar-image-target="targetIndex: 0" id="target-0" class="image-target">
                <a-gltf-model rotation="90 0 0" position="0 0 0" scale="0.05 0.05 0.05" src="#dancing_characters" animation-mixer></a-gltf-model>

                <!-- Boutons en 3D -->
                <a-plane 
                    position="0.2 0.2 0" 
                    name="website"
                    width="0.5" 
                    height="0.2" 
                    color="#007bff" 
                    text="value: Visitez mon site; color: white;"
                    class="clickable"
                    raycast-target
                </a-plane>

                <a-plane 
                    position="0.2 -0.1 0" 
                    width="0.5" 
                    name="telephone"
                    height="0.2" 
                    color="#28a745" 
                    text="value: Appelez-moi; color: white;"
                    class="clickable"
                    raycast-target
                </a-plane>

                <a-plane 
                    position="1 0.4 0" 
                    width="0.5" 
                    name="email"
                    height="0.2" 
                    color="#dc3545" 
                    text="value: Envoyez-moi un mail; color: white;"
                    class="clickable"
                    id="contact_by_mail_ar"
                    raycast-target
                </a-plane>
            </a-entity>

            <!-- Affichage du conteneur d'infos pour targetIndex: 1 -->
            <a-entity mindar-image-target="targetIndex: 1" event-set__show="visible: true; _event: targetFound" event-set__hide="visible: false; _event: targetLost" id="target-1"></a-entity>
        </a-scene>

        <div id="overlay" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;">
            <div id="touch-overlay" style="width: 100%; height: 100%;"></div>
        </div>

        <div id="scan_card_title">
            <h1>
                Scannez la carte pour découvrir plus d'informations 
            </h1> 
        </div>

        <footer>
            <p>&copy; 2024 DevXR. All rights reserved.</p>
        </footer>

        <script src="./script.js"></script>
    </body>
</html>
